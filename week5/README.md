2025-11-17 mon


# summary 📖


### 9장 변수와 가독성


변수를 엉터리로 사용할 때 생기는 문제점은 다음과 같다.

1. 변수의 수가 많을수록 기억하고 다루기 더 어려워진다.
2. 변수의 범위가 넓어질 수록 기억하고 다루는 시간이 더 길어진다.
3. 변수값이 자주 바뀔수록 현재 값을 기억하고 다루기가 더 어려워진다.

이번 장에서는 가독성에 도움이 되지 않는 변수를 **제거**하는 방법을 알아본다.

<br>

- 불필요한 임시 변수들
- 중간 결과 삭제하기
- 흐름 제어 변수 제거하기 (프로그램의 구조 잘 설계해서...)
- 변수의 범위를 좁혀라
    - 전역 변수를 지역 변수로 강등시키고 매개 변수로 전달
    - 많은 메소드를 정적 static으로 만들어서 클래스 멤버 접근 제한
    - 커다란 클래스를 여러 작은 클래스로 나누기

<br>

> 언어 관련 상세 내용
- 자바스크립트에서 프라이빗 변수 만들기 <br>
전역 변수로 흐름 제어 상태를 관리하면 어디서든 접근/변조가 가능해 유지보수성이 떨어진다.
반면, 클로저를 이용하면 상태를 함수 내부에 캡슐화하여 변수 범위를 극단적으로 좁힐 수 있고,
프로그램 구조 자체가 중복 제출을 막도록 설계된다.
    ```
    // ❌ 전역 변수를 사용하는 나쁜 예
    // - submitted가 전역 스코프에 있어 어디서나 접근 가능
    // - 다른 코드에서 값을 바꾸면 중복 제출 방지 기능이 무너짐
    // - 전역 네임스페이스 오염 문제 발생

    var submitted = false;

    function submit_form() {
        // 제출 여부에 따라 흐름 제어 → 외부 변수에 강하게 의존
        if (submitted) return;

        // 외부 전역 상태를 직접 변경
        submitted = true;
    }
    ```

    ```
    // ✅ 즉시실행함수를 사용해 submitted를 내부(private) 상태로 캡슐화
    // - 전역 변수를 제거하여 범위를 좁힘
    // - 외부에서 submitted를 임의로 조작할 수 없음 (안전)
    // - 흐름 제어(state)는 함수 내부에서만 관리됨 → 모듈화된 구조
    // - "한 번만 실행되는 함수"라는 목적이 코드 구조에 자연스럽게 녹아 있음

    var submit_form = (function() {

        // 내부 상태: 외부에서 접근 절대 불가한 private 변수
        var submitted = false;

        // 실제 호출되는 submit_form 함수
        return function (form_name) {
            // 이미 제출되었으면 더 이상 실행하지 않음 → 중복 제출 방지
            if (submitted) { return; }

            // ... (폼 제출 처리)

            // 내부 상태 업데이트
            submitted = true;
        };
    }());
    ```

- JS에서 변수 정의 시 var 키워드와 함께 선언하기
- Python, JS에는 중첩된 범위가 없음 → 작업을 최대한 일찍 끝마치기
- 정의를 아래로 옮기기 (변수는 사용하기 직전에 선언 등)
- 변수값이 달라지는 곳이 많을 수록 현재값을 추축하기 어려워지므로 값을 한 번만 할당하는 변수를 선호하기

<br>

# insight 💡
Part 2에서는 프로그램의 '루프와 논리'를 변경해서 코드의 가독성을 높이는 방법과, 프로그램의 구조를 가벼운 수준에서 변경하는 기법을 알아보았다.

앞 장에서는 변수명을 신중하게 짓는 데 집중했지만, 이 장에서는 변수의 존재 자체가 복잡성의 원인이 될 수 있다는 관점을 배우게 되었다.

특히 인상적이었던 부분은 다음과 같다.
- 변수 범위를 좁히는 것이 곧 가독성 향상으로 직결된다는 점. <br>
    지금까지는 전역 사용을 크게 경계하지 않았는데, 이번 장을 통해 **가능하면 가장 가까운 곳에, 가장 짧은 범위로 선언**하는 것이 얼마나 큰 차이를 만드는지 확실히 체감했다.
- 언어가 달라도 “좋은 코드의 원칙”은 비슷하다는 점이 흥미로웠다.<br>
Python의 스코프 규칙, Java의 static 사용, JS의 클로저처럼 각각의 언어가 제공하는 도구는 다르지만, 결국 목표는 동일하다.
→ 변수의 수와 영향 범위를 줄여서, 더 읽기 좋고 오류 가능성이 적은 코드를 만들기.

단순히 책 내용을 아는 것을 넘어,
이제는 ‘내 코드에 당장 적용할 수 있는 관점’을 얻은 것이 가장 큰 수확이라고 느꼈다.